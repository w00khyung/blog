---
title: App Router ì‚´í´ë³´ê¸° (w/ Next.js Conf 2022, React Blog)
date: '2024-02-26'
tags: ['Next.js']
draft: false
summary: Next.js Conf 2022ë¡œ ì‚´í´ë³´ëŠ” App Router
---

![](https://assets.vercel.com/image/upload/contentful/image/e5382hct74si/6eVOPSd4B1a94uF7b1dSLt/17f78399e225eec286e0d5ff1adb59fd/OG_Image__1_.png)

# Next.js Conf 2022ë¡œ ì‚´í´ë³´ëŠ” App Router

## Next.js Conf 2022ì—ì„œ ì²˜ìŒìœ¼ë¡œ ì–¸ê¸‰ëœ New Next.js Router

2022ë…„ 10ì›” 25ì¼ì— ì§„í–‰ëœ [Next.js Conf 2022](https://www.youtube.com/live/NiknNI_0J48?feature=shared&t=612)ì—ì„œ `New Next.js Router`ê°€ ì²˜ìŒ ì–¸ê¸‰ë˜ì—ˆë‹¤. ì˜ìƒì—ì„œëŠ” Vercelì˜ ì‹œë‹ˆì–´ ê°œë°œìì¸ [Delba Oliveria](https://twitter.com/delba_oliveira)ê°€ 10ë¶„ 15ì´ˆë¶€í„° 16ë¶„ 20ì´ˆê¹Œì§€ ì•½ 5ë¶„ ì •ë„ `New Next.js Router`ì¸ `App Router`ì— ëŒ€í•´ì„œ ì„¤ëª…í•˜ëŠ”ë° ë‚´ìš©ì„ ìš”ì•½í•´ë³´ì•˜ë‹¤. (~~ë‹¤ë¥¸ ì˜ìƒì—ì„œë„ ìì£¼ ë´¤ë˜ ë¶„ì´ë¼ ë‚´ì  ì¹œë°€ê° ìˆìŒ)~~

> â—ï¸ì£¼ì˜ì‚¬í•­
>
> ê¸€ì˜ ìˆœì„œê°€ ì›ë³¸ ì˜ìƒì—ì„œ ë°œí‘œí•˜ëŠ” ìˆœì„œë‘ ë‹¤ë¥´ê³  ì˜ì—­í•œ ë¶€ë¶„ì´ ì¼ë¶€ ìˆì–´ ë‚´ìš©ì´ ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ë¥¼ ìœ„í•´ ì›ë¬¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¬ì•„ë‘ì—ˆìœ¼ë‚˜, ì •í™•í•œ ë‚´ìš© í™•ì¸ì„ ìœ„í•´ ê¼­ [ì›ë³¸ ì˜ìƒ](https://www.youtube.com/live/NiknNI_0J48?feature=shared&t=612)ì„ ì°¸ê³ í•´ì£¼ì‹œê¸¸ ë°”ëë‹ˆë‹¤.
> 2022ë…„ì— ë°œí‘œëœ ìë£Œì´ê¸° ë•Œë¬¸ì— í˜„ì¬(2024ë…„)ì™€ ë‹¬ë¼ì§„ ë‚´ìš©ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìµœì‹  ë‚´ìš©ì€ [ê³µì‹ ë¬¸ì„œ](https://nextjs.org/docs)ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.

<TOCInline toc={props.toc} exclude="Next.js Conf 2022ë¡œ ì‚´í´ë³´ëŠ” App Router" />

---

## New Router & Data fetching ìš”ì•½

### Most loved feature, File system based router

<span style={{ color: 'gray' }}>
  One of the most loved features of Next.js is our file system based router. Drop a file inside a
  folder and you're able to instantly create routes in your application, no configuration required.
</span>

File system based routerëŠ” Next.jsì—ì„œ ê°€ì¥ ì‚¬ë‘ë°›ëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. ë³„ë„ ì„¤ì • ì—†ì´ë„ í´ë” ì•ˆì— íŒŒì¼ì„ ë†“ìœ¼ë©´ ê²½ë¡œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```bash
# File system based router
pages
 â”— foo.tsx # íŒŒì¼ ì´ë¦„ì´ ë¼ìš°íŒ… ê²½ë¡œê°€ ëœë‹¤. (/foo)
```

<span style={{ color: 'gray' }}>
  Over the past six years, our router has helped view some of the largest web applications in the
  world, spending billions of daily page views. This has helped us identify some incredible
  opportunities to continue delivering on the best possible router.
</span>

ì´ ë¼ìš°í„°ëŠ” ì§€ë‚œ 6ë…„ ë™ì•ˆ ì „ ì„¸ê³„ì—ì„œ ë§¤ì¼ ìˆ˜ì‹­ì–µ ê±´ì˜ í˜ì´ì§€ ë·°ë¥¼ ê¸°ë¡í•  ì •ë„ë¡œ ë„ë¦¬ ì‚¬ìš©ë˜ì—ˆê³ ,
ì´ëŠ” ìš°ë¦¬ê°€ ìµœìƒì˜ ë¼ìš°í„°ë¥¼ ê³„ì† ì œê³µí•˜ê¸° ìœ„í•œ ë†€ë¼ìš´ ê¸°íšŒë¥¼ ë°œê²¬í•˜ëŠ” ë° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

### New Router, App directory

<span style={{ color: 'gray' }}>
  We can make it easier to co-locate data fetching inside components, enabling global data fetching
  in your application.
</span>

ìš°ë¦¬ëŠ” <span style={{ color: "#fca5a5" }}>**ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ì‰½ê²Œ ë§Œë“¤ì–´**</span> ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì „ì—­ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ’¡ **ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤?**
>
> Pages Router ë°©ì‹ì—ì„œëŠ” Server-Sideì—ì„œ ì‹¤í–‰ë˜ëŠ” getServerSideProps, getStaticProps ê°™ì€ ë°ì´í„° fetching í•¨ìˆ˜ë“¤ì„ pages ë””ë ‰í„°ë¦¬ ë‚´ë¶€ì— ìˆëŠ” íŒŒì¼ë“¤ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤. App Routerì—ì„œëŠ” ë””í´íŠ¸ê°€ RSC(React Server Component)ì´ê¸° ë•Œë¬¸ì— ì–´ëŠ ì»´í¬ë„ŒíŠ¸ì—ì„œë“  Server-Sideì—ì„œ ê°€ëŠ¥í•œ ë¡œì§ë“¤ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

#### Pages Router

```tsx
// pages/index.js
export function getServerSideProps() {
  const user = await getUser() // âœ… ê°€ëŠ¥í•˜ë‹¤.

  return {
    props: {
      user
    }
  }
}

export default async function Page(props) {
	...
}
```

```tsx
// components/nav-bar.js
export function getServerSideProps() {
  const user = await getUser() // âŒ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

  return {
    props: {
      user
    }
  }
}

export default async function NavBar(props) {
	...
}
```

#### App Router

```tsx
// app/page.js
export default async function Page() {
	const user = await getUser() // âœ… ê°€ëŠ¥í•˜ë‹¤.

	return ...
}
```

```tsx
// components/nav-bar.js
export default async function NavBar() {
	const user = await getUser() // âœ… ì´ê²ƒ ë˜í•œ ê°€ëŠ¥í•˜ë‹¤!

	return ...
}
```

<span style={{ color: 'gray' }}>
  For example, when you have dynamic data requirements that are shared across pages, we can make it
  easier to co-locate your application code with your routes, like components, tests, and styles so
  that you and your team don't have to come up with your own conventions and configuration.
</span>

ë¼ìš°íŒ… ë°©ì‹ì´ ë³€í™”í•˜ë©´ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ(ì»´í¬ë„ŒíŠ¸, í…ŒìŠ¤íŠ¸ ë° ìŠ¤íƒ€ì¼ ë“±)ì™€ ë¼ìš°íŠ¸ë¥¼ ê³µì¡´ì‹œí‚¤ëŠ” ê²ƒì´ ë” ì‰¬ì›Œì§€ê³  <span style={{ color: "#fca5a5" }}>**íŒ€ ìì²´ì ì¸ ì»¨ë²¤ì…˜ì„ ë§Œë“¤ í•„ìš”ê°€ ì—†ì–´ì§€ë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.**</span>

> ğŸ’¡ **íŒ€ ìì²´ì ì¸ ì»¨ë²¤ì…˜ì„ ë§Œë“¤ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤?**
>
> ê¸°ì¡´ Pages Router ë°©ì‹ì—ì„œëŠ” pages ë””ë ‰í„°ë¦¬ ë‚´ì— íŒŒì¼ì„ ë§Œë“¤ë©´ íŒŒì¼ ì´ë¦„ì´ ë¼ìš°íŒ… ê²½ë¡œê°€ ë˜ì—ˆê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œ ë¼ìš°íŒ… ê²½ë¡œë¡œ ì´ìš©í•  íŒŒì¼ ì™¸ì˜ ë‹¤ë¥¸ íŒŒì¼ë“¤ì€ pages ë””ë ‰í„°ë¦¬ ì™¸ë¶€ì— ìƒì„±í•´ì•¼ í–ˆë‹¤. ê·¸ë˜ì„œ pages ì™¸ë¶€ ë””ë ‰í„°ë¦¬ë¥¼ ì–´ë–»ê²Œ ì„¤ê³„í• ì§€ì— ëŒ€í•œ ì»¨ë²¤ì…˜ì´ í•„ìš”í–ˆë‹¤.

```bash
# Pages Router
pages
 â”£ index.js
 â”£ something-component.js # âŒ /something-component ê²½ë¡œë¡œ ë¼ìš°íŒ… ëœë‹¤.
 â”ƒ topics
 â”ƒ â”— [slug].js
```

```bash
# App Router
app
 â”£ NavBar.js # âœ… ë¼ìš°íŒ…ê³¼ ì—°ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤. (co-location)
 â”£ page.js
 â”£ page.test.js
 â”£ styles.css
 â”ƒ topics
 â”ƒ â”— [slug]
 â”ƒ   â”— page.js
```

### Layouts

<span style={{ color: 'gray' }}>
  Let's create the individual topic page that the sidebar links to. This uses the same syntax you're
  already familiar with for nesting and dynamic routes. I want to reuse the sidebar and the
  navigation from my homepage on the topic page. So I can refactor my component into a layout.js
  file that shares UI between the two pages. Not only is this more convenient for me,but as I
  navigate, only a small portion of the screen rerenders streamlining the work, both on the client
  and the server. Notice how the search field preserves state and the animations continue despite
  the route changes.
</span>

ì‚¬ì´ë“œë°”ì—ì„œ ë§í¬í•˜ëŠ” ê°œë³„ ì£¼ì œ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ëŠ” ì´ë¯¸ ì¤‘ì²© ë° ë™ì  ê²½ë¡œì— ëŒ€í•´ ìµìˆ™í•œ êµ¬ë¬¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì£¼ì œ í˜ì´ì§€ì—ì„œ í™ˆí˜ì´ì§€ì™€ ë™ì¼í•œ ì‚¬ì´ë“œë°”ì™€ ë„¤ë¹„ê²Œì´ì…˜ì„ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë‚´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‘ í˜ì´ì§€ ê°„ì— UIë¥¼ ê³µìœ í•˜ëŠ” `layout.js` íŒŒì¼ë¡œ ë¦¬íŒ©í† ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ì œê°€ í¸ë¦¬í•´ì§€ëŠ” ê²ƒì€ ë¬¼ë¡ , ë‚´ë¹„ê²Œì´ì…˜í•˜ëŠ” ë™ì•ˆ í™”ë©´ì˜ ì‘ì€ ë¶€ë¶„ë§Œ ë‹¤ì‹œ ë Œë”ë§ë˜ì–´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ëª¨ë‘ì—ì„œ ì‘ì—…ì´ ê°„ì†Œí™”ë©ë‹ˆë‹¤. ê²½ë¡œê°€ ë³€ê²½ë˜ë”ë¼ë„ ê²€ìƒ‰ í•„ë“œê°€ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³  ì• ë‹ˆë©”ì´ì…˜ì´ ì§€ì†ë˜ëŠ” ê²ƒì„ ì£¼ëª©í•˜ì„¸ìš”.

```bash
app
 â”£ layout.js
 â”£ blog
 â”ƒ â”£ layout.js # ë ˆì´ì•„ì›ƒì€ ì¤‘ì²©ë  ìˆ˜ë„ ìˆë‹¤.
 â”ƒ â”— page.js
 â”ƒ â”— [slug]
 â”ƒ   â”— page.js # slugê°€ ë³€ê²½ë˜ì–´ë„ layoutì€ ë¦¬ë Œë”ë§ ë˜ì§€ ì•ŠëŠ”ë‹¤.
```

```tsx
// âœ… ì¤‘ì²©ëœ ë ˆì´ì•„ì›ƒì€ ì´ëŸ° ì‹ìœ¼ë¡œ ë°°ì¹˜ëœë‹¤.
<Layout>
  <BlogLayout>
    <BlogPage />
  </BlogLayout>
</Layout>
```

### with React 18

<span style={{ color: 'gray' }}>
  These opportunities for improvement in combination with Reacts multi-year architectural investment
  into concurrent features created the perfect environment to upgrade the web's most popular file
  system based router.
</span>

ì´ëŸ¬í•œ ê°œì„  ê¸°íšŒëŠ” Reactì˜ ë‹¤ë…„ê°„ì˜ <span style={{ color: "#fca5a5" }}>**ë™ì‹œì„± ê¸°ëŠ¥**</span>ì— ëŒ€í•œ ì•„í‚¤í…ì²˜ íˆ¬ìë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ ì™„ë²½í•œ í™˜ê²½ê³¼ ê²°í•©í•˜ì—¬ ì›¹ì˜ ê°€ì¥ ì¸ê¸°ìˆëŠ” íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ ë¼ìš°í„°ë¥¼ ì—…ê·¸ë ˆì´ë“œí•˜ëŠ” ë° ì´ìƒì ì¸ ì¡°ê±´ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

> ğŸ’¡ React 18ì˜ ë™ì‹œì„± ê¸°ëŠ¥ì´ë€?
>
> ë¦¬ì•¡íŠ¸ì˜ ë™ì‹œì„± ë Œë”ë§(Concurrent Rendering)ì€ 2022ë…„ 3ì›”ì— ë°œí‘œëœ React 18ì—ì„œ ì²˜ìŒ ë“±ì¥í–ˆìŠµë‹ˆë‹¤. ë™ì‹œì„± ë Œë”ë§ì„ ì„¤ëª…í•˜ë ¤ë©´ ë§ì€ ë¶€ë¶„ì„ ë‹¤ë¤„ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì´ í¬ìŠ¤íŒ…ì—ì„œëŠ” ê¹Šê²Œ ë‹¤ë£¨ì§€ ì•Šê³  React Blogì— ì˜¬ë¼ì™€ìˆëŠ” [React v18.0](https://react.dev/blog/2022/03/29/react-v18#what-is-concurrent-react)ì„ í†µí•´ì„œ ê°œìš”ë§Œ ë¹ ë¥´ê²Œë§Œ í›‘ì–´ë³´ê² ìŠµë‹ˆë‹¤.
>
> - Concurrent ReactëŠ” React 18ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ì¶”ê°€ ê¸°ëŠ¥ìœ¼ë¡œ, Reactì˜ í•µì‹¬ ë Œë”ë§ ëª¨ë¸ì— ëŒ€í•œ ì—…ë°ì´íŠ¸ì…ë‹ˆë‹¤.
> - Concurrent Reactì˜ ì¤‘ìš”í•œ íŠ¹ì„± ì¤‘ í•˜ë‚˜ëŠ” ì¤‘ë‹¨ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ë™ê¸°ì‹ ë Œë”ë§ì—ì„œëŠ” ë Œë”ë§ì„ ì‹œì‘í•˜ë©´ ì‚¬ìš©ìê°€ ê²°ê³¼ë¥¼ í™”ë©´ì—ì„œ ë³¼ ë•Œê¹Œì§€ ì¤‘ë‹¨í•  ìˆ˜ ì—†ì§€ë§Œ, ë™ì‹œì„± ë Œë”ë§ì—ì„œëŠ” ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤. ReactëŠ” ì—…ë°ì´íŠ¸ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆê³ , ì¤‘ê°„ì— ì¼ì‹œ ì¤‘ì§€í•  ìˆ˜ ìˆê³ , ë‚˜ì¤‘ì— ê³„ì†í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
> - Suspense, transitions, streaming server renderingë¥¼ ë¹„ë¡¯í•œ ëŒ€ë¶€ë¶„ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ë™ì‹œì„± ë Œë”ë§ì„ í™œìš©í•˜ë„ë¡ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.

<span style={{ color: 'gray' }}>
  So how do you fetch and stream data from the server while preventing large amounts of JavaScript
  and waterfalls on the client? We've worked with the React core team to deliver new solution to
  simplify fetching for all of React and Next.js, and you can try it today.
</span>

í´ë¼ì´ì–¸íŠ¸ì—ì„œ ëŒ€ëŸ‰ì˜ JavaScriptì™€ ì›Œí„°í´ì„ ë°©ì§€í•˜ë©´ì„œ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ë°©ë²•ì€ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? ì €í¬ëŠ” React í•µì‹¬ íŒ€ê³¼ í˜‘ë ¥í•˜ì—¬ React ë° Next.jsì˜ ëª¨ë“  ì‚¬ìš©ìë¥¼ ìœ„í•œ <span style={{ color: "#fca5a5" }}>**ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ê°„ì†Œí™”í•˜ëŠ” ìƒˆë¡œìš´ ì†”ë£¨ì…˜**</span>ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

> ğŸ’¡ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ê°„ì†Œí™”í•˜ëŠ” ìƒˆë¡œìš´ ì†”ë£¨ì…˜, React Server Components
>
> React Server Component, RSCëŠ” 2020ë…„ 12ì›”ì— React Blogì— ì˜¬ë¼ì˜¨ [Introducing Zero-Bundle-Size React Server Components](https://react.dev/blog/2020/12/21/data-fetching-with-react-server-components), [RFC: React Server Components](https://github.com/reactjs/rfcs/pull/188)ë¥¼ í†µí•´ ì²˜ìŒ ì†Œê°œë˜ì—ˆë‹¤. RSCì— ëŒ€í•´ì„œë„ ëª¨ë“  ë‚´ìš©ì„ ë‹¤ë£¨ê¸°ëŠ” í˜ë“¤ê¸° ë•Œë¬¸ì— ê°„ë‹¨í•˜ê²Œë§Œ ì‚´í´ë´…ì‹œë‹¤.
>
> - 2023ë…„ì— 3ì›”ì— ì‘ì„±ëœ [React Labs: What We've Been Working On â€“ March 2023](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023)ì—ì„œëŠ” React Server Components(RSC)ë¥¼ React íŒ€ì´ ì„¤ê³„í•œ ìƒˆë¡œìš´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì•„í‚¤í…ì²˜ë¼ê³  ì„¤ëª…í•©ë‹ˆë‹¤.
> - RSCëŠ” ë¹Œë“œ ì¤‘ì— ì‹¤í–‰ë˜ê³  JavaScript ë²ˆë“¤ì—ì„œ ì œì™¸ë˜ëŠ” ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. íŒŒì¼ ì‹œìŠ¤í…œì„ ì½ê±°ë‚˜, ì •ì  ì»¨í…ì¸  ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì„ ë¹Œë“œ ì¤‘ì— ì‹¤í–‰í•  ìˆ˜ ìˆìœ¼ë©° ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— API ì—†ì´ë„ ë°ì´í„° ë ˆì´ì–´ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> - RSCëŠ” ì„œë²„ ì¤‘ì‹¬ Multi-Page Apps(MPA)ì˜ ê°„ë‹¨í•œ "request/response" ë©”íƒ€ ëª¨ë¸ê³¼ í´ë¼ì´ì–¸íŠ¸ ì¤‘ì‹¬ì˜ Single-Page Apps(SPA)ì˜ ë§¤ë„ëŸ¬ìš´ ìƒí˜¸ ì‘ìš©ì„±ì„ ê²°í•©í•˜ì—¬ ì–‘ìª½ì˜ ì¥ì ì„ ëª¨ë‘ ì œê³µí•©ë‹ˆë‹¤.
> - ê°€ì¥ í° ë³€ê²½ ì‚¬í•­ì€ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°ë¥¼ ìœ„í•œ ì£¼ìš” ë°©ë²•ìœ¼ë¡œ [async/await](https://github.com/reactjs/rfcs/pull/229)ì„ ì†Œê°œí•œ ê²ƒì…ë‹ˆë‹¤. ë˜í•œ useë¼ëŠ” ìƒˆë¡œìš´ í›…ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°ì´í„° ë¡œë”©ì„ ì§€ì›í•  ê³„íšì…ë‹ˆë‹¤.
> - ë” ìì„¸í•œ ë‚´ìš©ì€ [Data Fetching with React Server Components](https://youtu.be/TQQPAU21ZUw?si=4ijK7ED1F3Afdues) ì˜ìƒì„ ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

<span style={{ color: 'gray' }}>
  This is what my data fetching code looks like for the sidebar using the brand new data fetching
  API. It's extremely simple and in-lined right inside my application code. The best part, I can
  sprinkle streaming data fetching throughout my entire app, layouts, pages, components, and even
  hooks.
</span>

ì—¬ê¸°ì„œ ìƒˆë¡œìš´ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ì´ë“œë°”ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì œ ì½”ë“œë¥¼ ì‚´í´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì½”ë“œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ ì•ˆì— ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ë‚´ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ê°€ì¥ ì¢‹ì€ ì ì€ ì´ì œ ì „ì²´ ì•±, ë ˆì´ì•„ì›ƒ, í˜ì´ì§€, ì»´í¬ë„ŒíŠ¸, ì‹¬ì§€ì–´ í›…ì—ì„œ ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

```tsx
export default async function Layout() {
	let topics: Topic[]
	const user = await getUser()
	if (user) {
		topics = await getUserFavoriteTopics(user)
	} else {
		topics = await getDefaultTopics()
	}

	return (
		<div>{topics.map(...)}</div>
	)
}
```

<span style={{ color: 'gray' }}>
  Our shared UI between the home and the topic page can now fetch and reuse data.
</span>

<span style={{ color: 'gray' }}>
  Let's now define a new loading stage for our topic page with loading.js.
</span>

<span style={{ color: 'gray' }}>
  Notice how when I transition between pages we serve and render an instant loading state while
  we're streaming the rest of our content. Similarly, we allow custom error handling with the
  error.js convention. To preserve the flexibility and scalability that you've come to love about
  Next.js data fetching, we're extending the run time with additions like built-in caching,
  deduplication of requests, programmatic revalidations, and granular purging of data.
</span>

í™ˆê³¼ ì£¼ì œ í˜ì´ì§€ ì‚¬ì´ì—ì„œ ê³µìœ ë˜ëŠ” UIëŠ” ì´ì œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ì œ ì£¼ì œ í˜ì´ì§€ì˜ ìƒˆë¡œìš´ ë¡œë”© ë‹¨ê³„ë¥¼ `loading.js`ë¡œ ì •ì˜í•´ ë³´ê² ìŠµë‹ˆë‹¤. í˜ì´ì§€ ê°„ ì´ë™ ì‹œ ë‚˜ë¨¸ì§€ ì½˜í…ì¸ ë¥¼ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ë™ì•ˆ ì¦‰ì‹œ ë¡œë”© ìƒíƒœë¥¼ ì œê³µí•˜ê³  ë Œë”ë§í•˜ëŠ” ê²ƒì„ ì£¼ëª©í•˜ì„¸ìš”. ë¹„ìŠ·í•˜ê²Œ, `error.js` ê·œì¹™ì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì •ì˜ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤. Next.js ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°ì— ëŒ€í•œ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ëŸ°íƒ€ì„ì„ ë‚´ì¥ëœ ìºì‹±, ìš”ì²­ ì¤‘ë³µ ì œê±°, í”„ë¡œê·¸ë˜ë° ë°©ì‹ì˜ ì¬ê²€ì¦, ë°ì´í„°ì˜ ì„¸ë¶„í™”ëœ ì‚­ì œì™€ ê°™ì€ ì¶”ê°€ë¡œ í™•ì¥í•©ë‹ˆë‹¤.

```bash
app
 â”£ layout.js
 â”£ page.js
 â”£ error.js
 â”ƒ [topic]
 â”ƒ â”— loading.js
 â”ƒ â”— page.js
```

### ISR, SSG, SSR, even SWR â†’ Hybrid solution

<span style={{ color: 'gray' }}>
  This means that all the benefits of ISR, static data fetching, service side data fetching, and
  even SWR are now all in one hybrid solution. Because our router builds on React server components,
  everything we just defined for this product is now server first. You can maintain rich interactive
  client-side experiences all while you're shipping dramatically less JavaScript by default. Thanks
  to the new React primitives, we're enabling ergonomic ways to handle loading and error states,
  streaming UI as it's rendered, and in the future, even mutate data. This new API is made possible
  by years of investment into the React ecosystem.
</span>

ì´ê²ƒì€ ISR, ì •ì  ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°, ì„œë²„ ì¸¡ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë° ì‹¬ì§€ì–´ SWRì˜ ëª¨ë“  ì´ì ì´ ì´ì œ í•˜ì´ë¸Œë¦¬ë“œ ì†”ë£¨ì…˜ìœ¼ë¡œ í†µí•©ë˜ì—ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ìš°ë¦¬ì˜ ë¼ìš°í„°ê°€ React Server Componentë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì—, ì´ ì œí’ˆì„ ìœ„í•´ ë°©ê¸ˆ ì •ì˜í•œ ëª¨ë“  ê²ƒì´ ì´ì œ ì„œë²„ ìš°ì„ ì ì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë“œë¼ë§ˆí‹±í•˜ê²Œ ì ì€ ì–‘ì˜ JavaScriptë¥¼ ë°°í¬í•˜ë©´ì„œë„ í’ë¶€í•œ ì¸í„°ë™í‹°ë¸Œí•œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê²½í—˜ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ React í”„ë¦¬ë¯¸í‹°ë¸Œ ë•ë¶„ì—, ë¡œë”© ë° ì˜¤ë¥˜ ìƒíƒœë¥¼ ë‹¤ë£¨ëŠ” ergonomicí•œ ë°©ë²•ì„ ì œê³µí•˜ê³ , UIê°€ ë Œë”ë§ë˜ëŠ” ë™ì•ˆ ìŠ¤íŠ¸ë¦¬ë° UIë¥¼ ì²˜ë¦¬í•˜ë©°, ë¯¸ë˜ì—ëŠ” ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ ìƒˆë¡œìš´ APIëŠ” React ìƒíƒœê³„ì— ìˆ˜ë…„ê°„ì˜ íˆ¬ìë¡œ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.

```tsx
// This request should be cached until manually invalidated.
// Similar to `getStaticProps`.
// `force-cache` is the default and can be omitted.
fetch(URL, { cache: 'force-cache' })

// This request should be refetched on every request.
// Similar to `getServerSideProps`.
fetch(URL, { cache: 'no-store' })

// This request should be cached with a lifetime of 10 seconds.
// Similar to `getStaticProps` with the `revalidate` option.
fetch(URL, { next: { revalidate: 10 } })
```

---

# ì°¸ê³ 

- [Next.js Conf 2022](https://www.youtube.com/live/NiknNI_0J48?feature=shared&t=612)
- [Next.js Docs](https://nextjs.org/docs)
- [React v18.0](https://react.dev/blog/2022/03/29/react-v18#what-is-concurrent-react)
- [Introducing Zero-Bundle-Size React Server Components](https://react.dev/blog/2020/12/21/data-fetching-with-react-server-components)
- [RFC: React Server Components](https://github.com/reactjs/rfcs/pull/188)
- [patterns.dev - React Server Components](https://patterns-dev-kr.github.io/rendering-patterns/react-server-components)
- [React Labs: What We've Been Working On â€“ March 2023](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023)
- [Data Fetching with React Server Components](https://youtu.be/TQQPAU21ZUw?si=4ijK7ED1F3Afdues)
